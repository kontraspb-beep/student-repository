<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Задание 4</title>
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../css/logo.css">
  <style>
  .class1 {background-color: #FBD4B4; margin: 0;}
  .class2 {background-color: #CCC0D9; margin: 0;}
  .number {text-decoration: underline;}
  .latin {font-style: italic;}
  button {margin: 0 5px 20px 0; height: 30px; width: 100px;}
</style>
</head>
<body>
  <header class="header">
    <div>
      <a href="../index.html">
        <div class="logo">
          <div class="pan">
            <div class="panhandle">
                <div class="hole"></div>
            </div>
            <div class="bottom"></div>
          </div>
          <div class="egg">
          <div class="white"></div>
            <div class="yolk">
              <div class="glare glare-left"></div>
              <div class="glare glare-right"></div>
            </div>
          </div>
        </div>
      </a>
      <h1 class="site-name">Мастер Вкуса</h1>
    </div>
    <img class="img-header" src="../img/food-background-with-ingredients-pasta.jpg" alt="">
  </header>

  <nav class="nav">
    <ol>
      <li><a href="../html/soup.html">супы</a></li>
      <li><a href="../html/hot.html">горячие блюда</a></li>
      <li><a href="../html/salad.html">салаты</a></li>
      <li><a href="../html/snack.html">закуски</a></li>
      <li><a href="../html/bakery.html">выпечка</a></li>
      <li><a href="../html/dessert.html">десерты</a></li>
      <li><a href="../html/sauce.html">соусы</a></li>
      <li><a href="../html/canned.html">заготовки</a></li>
    </ol>
    <img src="../img/img-nav-dovn.png" alt="">
  </nav>

  <main>
    <h2>Задание 4. DOM.</h2>
    <button id="createBtn">Создать</button>
    <button id="repaintBtn">Перекрасить</button>
    <button id="resetBtn">Сбросить</button>
    <div id="content">
      <div id="rand"></div>
    </div>

    <script>
      let latinPhrases = [
        `"Consuetudo est altera natura"`,
        `"Nota bene"`,
        `"Nulla calamitas sola"`,
        `"Per aspera ad astra"`,
      ];
      let translations = [
        `"Привычка - вторая натура"`,
        `"Заметьте хорошо!"`,
        `"Беда не приходит одна"`,
        `"Через тернии к звёздам"`,
      ];

      let phraseIndices = [];
      let clickCount = 0; 

      // функции для инициализации случайного порядка фраз
      function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
          let j = Math.floor(Math.random() * (i + 1));
          let temp = array[i];
          array[i] = array[j];
          array[j] = temp;
        }
      }
      function initRandomOrder() {
        phraseIndices.length = 0;
        for (let i = 0; i < latinPhrases.length; i++) {
          phraseIndices[i] = i;
        }
        shuffle(phraseIndices);
        currentIndex = 0;
      }
      initRandomOrder();

      let randDiv = document.getElementById('rand');
      let createBtn = document.getElementById('createBtn');
      let repaintBtn = document.getElementById('repaintBtn');
      let resetBtn = document.getElementById('resetBtn');

      // кнопка добавить
      createBtn.onclick = function() {
        if (clickCount >= phraseIndices.length) {
          alert("Фразы закончились");
          return;
        }

        let index = phraseIndices[clickCount];

        // цвет параграфа
        let p = document.createElement('p');
        p.id = 'phrase' + clickCount;
        if (clickCount % 2 == 1) {
          p.className = 'class1';
        }
        else {
          p.className = 'class2';
        }

        // подчеркнутый номер
        let numberSpan = document.createElement('span');
        numberSpan.textContent = 'n=' + clickCount;
        numberSpan.className = 'number';
        p.appendChild(numberSpan);

        // фраза на латинском
        let latinSpan = document.createElement('span');
        latinSpan.textContent = ' ' + latinPhrases[index];
        latinSpan.className = 'latin';
        p.appendChild(latinSpan);

        // перевод
        let translatSpan = document.createElement('span');
        translatSpan.textContent = ' ' + translations[index];
        p.appendChild(translatSpan);

        randDiv.appendChild(p);

        clickCount++;
      }

      // кнопка перекрасить
      repaintBtn.onclick = function() {
        let evenParagraphs = document.querySelectorAll('.class1');
        for (let paragraf of evenParagraphs) {
          if (paragraf.style.fontWeight == 'bold') {
            paragraf.style.fontWeight = 'normal';
          }
          else {
            paragraf.style.fontWeight = 'bold';
          }
        }
      }

      // кнопка сброс
      resetBtn.onclick = function() {
        randDiv.replaceChildren();
        initRandomOrder();
        clickCount = 0;
      }
    </script>
  </main>

  <footer class="footer">
    <a href="../html/task2.html">Задание №2</a>
    <a href="../html/task3.html">Задание №3</a>
    <a href="../html/task4.html">Задание №4</a>
    <a href="../html/task5.html">Задание №5</a>
    <a href="../html/coursework.html">Курсовая работа</a>
  </footer>
</body>
</html>